{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{rafThrottle,supportsHighPerformance}from'../utils/performanceUtils';import{jsx as _jsx}from\"react/jsx-runtime\";const OptimizedCursorEffect=()=>{const[stars,setStars]=useState([]);const[isHighPerformance,setIsHighPerformance]=useState(true);// Check device capabilities on mount\nuseEffect(()=>{setIsHighPerformance(supportsHighPerformance());},[]);// Optimized mouse move handler with RAF throttling\nconst handleMouseMove=useCallback(rafThrottle(event=>{if(!isHighPerformance||window.innerWidth<768)return;// Disable on mobile\nconst{clientX,clientY}=event;// Only create star occasionally (every 3rd movement)\nif(Math.random()>0.7){const newStar={id:Date.now()+Math.random(),x:clientX+(Math.random()-0.5)*20,y:clientY+(Math.random()-0.5)*20,size:Math.random()*4+2,color:['#00f5ff','#4169e1','#ffffff'][Math.floor(Math.random()*3)],createdAt:Date.now()};setStars(prev=>[...prev.slice(-8),newStar]);// Keep only 8 stars max\n}}),[isHighPerformance]);// Cleanup expired stars efficiently\nuseEffect(()=>{if(!isHighPerformance)return;const interval=setInterval(()=>{setStars(prev=>prev.filter(star=>Date.now()-star.createdAt<800));},200);return()=>clearInterval(interval);},[isHighPerformance]);// Event listeners\nuseEffect(()=>{if(!isHighPerformance)return;window.addEventListener('mousemove',handleMouseMove,{passive:true});return()=>window.removeEventListener('mousemove',handleMouseMove);},[handleMouseMove,isHighPerformance]);// Don't render on mobile or low-performance devices\nif(!isHighPerformance||window.innerWidth<768){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 pointer-events-none z-40\",children:stars.map(star=>/*#__PURE__*/_jsx(\"div\",{className:\"absolute animate-cursor-star\",style:{left:star.x-star.size/2,top:star.y-star.size/2,width:star.size,height:star.size,backgroundColor:star.color,borderRadius:'50%',boxShadow:\"0 0 \".concat(star.size*2,\"px \").concat(star.color),transform:'translateZ(0)',// GPU acceleration\nwillChange:'transform, opacity'}},star.id))});};export default/*#__PURE__*/React.memo(OptimizedCursorEffect);","map":{"version":3,"names":["React","useState","useEffect","useCallback","rafThrottle","supportsHighPerformance","jsx","_jsx","OptimizedCursorEffect","stars","setStars","isHighPerformance","setIsHighPerformance","handleMouseMove","event","window","innerWidth","clientX","clientY","Math","random","newStar","id","Date","now","x","y","size","color","floor","createdAt","prev","slice","interval","setInterval","filter","star","clearInterval","addEventListener","passive","removeEventListener","className","children","map","style","left","top","width","height","backgroundColor","borderRadius","boxShadow","concat","transform","willChange","memo"],"sources":["/Users/aditya/newport/portfolionew/src/components/OptimizedCursorEffect.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { rafThrottle, supportsHighPerformance } from '../utils/performanceUtils';\n\nconst OptimizedCursorEffect = () => {\n  const [stars, setStars] = useState([]);\n  const [isHighPerformance, setIsHighPerformance] = useState(true);\n\n  // Check device capabilities on mount\n  useEffect(() => {\n    setIsHighPerformance(supportsHighPerformance());\n  }, []);\n\n  // Optimized mouse move handler with RAF throttling\n  const handleMouseMove = useCallback(\n    rafThrottle((event) => {\n      if (!isHighPerformance || window.innerWidth < 768) return; // Disable on mobile\n      \n      const { clientX, clientY } = event;\n      \n      // Only create star occasionally (every 3rd movement)\n      if (Math.random() > 0.7) {\n        const newStar = {\n          id: Date.now() + Math.random(),\n          x: clientX + (Math.random() - 0.5) * 20,\n          y: clientY + (Math.random() - 0.5) * 20,\n          size: Math.random() * 4 + 2,\n          color: ['#00f5ff', '#4169e1', '#ffffff'][Math.floor(Math.random() * 3)],\n          createdAt: Date.now()\n        };\n\n        setStars(prev => [...prev.slice(-8), newStar]); // Keep only 8 stars max\n      }\n    }),\n    [isHighPerformance]\n  );\n\n  // Cleanup expired stars efficiently\n  useEffect(() => {\n    if (!isHighPerformance) return;\n\n    const interval = setInterval(() => {\n      setStars(prev => prev.filter(star => Date.now() - star.createdAt < 800));\n    }, 200);\n\n    return () => clearInterval(interval);\n  }, [isHighPerformance]);\n\n  // Event listeners\n  useEffect(() => {\n    if (!isHighPerformance) return;\n\n    window.addEventListener('mousemove', handleMouseMove, { passive: true });\n    return () => window.removeEventListener('mousemove', handleMouseMove);\n  }, [handleMouseMove, isHighPerformance]);\n\n  // Don't render on mobile or low-performance devices\n  if (!isHighPerformance || window.innerWidth < 768) {\n    return null;\n  }\n\n  return (\n    <div className=\"fixed inset-0 pointer-events-none z-40\">\n      {stars.map(star => (\n        <div\n          key={star.id}\n          className=\"absolute animate-cursor-star\"\n          style={{\n            left: star.x - star.size / 2,\n            top: star.y - star.size / 2,\n            width: star.size,\n            height: star.size,\n            backgroundColor: star.color,\n            borderRadius: '50%',\n            boxShadow: `0 0 ${star.size * 2}px ${star.color}`,\n            transform: 'translateZ(0)', // GPU acceleration\n            willChange: 'transform, opacity'\n          }}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default React.memo(OptimizedCursorEffect);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}