{"ast":null,"code":"// Performance optimization utilities\n\n// Throttle function for scroll events\nexport const throttle = (func, delay) => {\n  let timeoutId;\n  let lastExecTime = 0;\n  return function (...args) {\n    const currentTime = Date.now();\n    if (currentTime - lastExecTime > delay) {\n      func.apply(this, args);\n      lastExecTime = currentTime;\n    } else {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        func.apply(this, args);\n        lastExecTime = Date.now();\n      }, delay - (currentTime - lastExecTime));\n    }\n  };\n};\n\n// Debounce function for input events\nexport const debounce = (func, delay) => {\n  let timeoutId;\n  return function (...args) {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => func.apply(this, args), delay);\n  };\n};\n\n// Request animation frame throttle\nexport const rafThrottle = func => {\n  let rafId = null;\n  return function (...args) {\n    if (rafId === null) {\n      rafId = requestAnimationFrame(() => {\n        func.apply(this, args);\n        rafId = null;\n      });\n    }\n  };\n};\n\n// Check if device supports high performance animations\nexport const supportsHighPerformance = () => {\n  const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;\n  const hasGoodConnection = !connection || connection.effectiveType === '4g';\n  const hasGoodHardware = window.devicePixelRatio <= 2;\n  return hasGoodConnection && hasGoodHardware && !window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n};\n\n// Intersection observer with performance optimizations\nexport const createOptimizedObserver = (callback, options = {}) => {\n  const defaultOptions = {\n    threshold: 0.1,\n    rootMargin: '-20px 0px',\n    ...options\n  };\n  return new IntersectionObserver(throttle(callback, 100),\n  // Throttle callbacks\n  defaultOptions);\n};\n\n// Memory management for animations\nexport const cleanupAnimation = (element, animationClass) => {\n  if (element) {\n    element.classList.remove(animationClass);\n    // Force reflow to ensure cleanup\n    // eslint-disable-next-line no-unused-vars\n    const _ = element.offsetHeight; // assign to avoid unused expression\n  }\n};","map":{"version":3,"names":["throttle","func","delay","timeoutId","lastExecTime","args","currentTime","Date","now","apply","clearTimeout","setTimeout","debounce","rafThrottle","rafId","requestAnimationFrame","supportsHighPerformance","connection","navigator","mozConnection","webkitConnection","hasGoodConnection","effectiveType","hasGoodHardware","window","devicePixelRatio","matchMedia","matches","createOptimizedObserver","callback","options","defaultOptions","threshold","rootMargin","IntersectionObserver","cleanupAnimation","element","animationClass","classList","remove","_","offsetHeight"],"sources":["/Users/aditya/newport/portfolionew/src/utils/performanceUtils.js"],"sourcesContent":["// Performance optimization utilities\n\n// Throttle function for scroll events\nexport const throttle = (func, delay) => {\n  let timeoutId;\n  let lastExecTime = 0;\n  return function (...args) {\n    const currentTime = Date.now();\n    \n    if (currentTime - lastExecTime > delay) {\n      func.apply(this, args);\n      lastExecTime = currentTime;\n    } else {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        func.apply(this, args);\n        lastExecTime = Date.now();\n      }, delay - (currentTime - lastExecTime));\n    }\n  };\n};\n\n// Debounce function for input events\nexport const debounce = (func, delay) => {\n  let timeoutId;\n  return function (...args) {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => func.apply(this, args), delay);\n  };\n};\n\n// Request animation frame throttle\nexport const rafThrottle = (func) => {\n  let rafId = null;\n  return function (...args) {\n    if (rafId === null) {\n      rafId = requestAnimationFrame(() => {\n        func.apply(this, args);\n        rafId = null;\n      });\n    }\n  };\n};\n\n// Check if device supports high performance animations\nexport const supportsHighPerformance = () => {\n  const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;\n  const hasGoodConnection = !connection || connection.effectiveType === '4g';\n  const hasGoodHardware = window.devicePixelRatio <= 2;\n  \n  return hasGoodConnection && hasGoodHardware && !window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n};\n\n// Intersection observer with performance optimizations\nexport const createOptimizedObserver = (callback, options = {}) => {\n  const defaultOptions = {\n    threshold: 0.1,\n    rootMargin: '-20px 0px',\n    ...options\n  };\n\n  return new IntersectionObserver(\n    throttle(callback, 100), // Throttle callbacks\n    defaultOptions\n  );\n};\n\n// Memory management for animations\nexport const cleanupAnimation = (element, animationClass) => {\n  if (element) {\n    element.classList.remove(animationClass);\n    // Force reflow to ensure cleanup\n    // eslint-disable-next-line no-unused-vars\n    const _ = element.offsetHeight; // assign to avoid unused expression\n  }\n};\n"],"mappings":"AAAA;;AAEA;AACA,OAAO,MAAMA,QAAQ,GAAGA,CAACC,IAAI,EAAEC,KAAK,KAAK;EACvC,IAAIC,SAAS;EACb,IAAIC,YAAY,GAAG,CAAC;EACpB,OAAO,UAAU,GAAGC,IAAI,EAAE;IACxB,MAAMC,WAAW,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;IAE9B,IAAIF,WAAW,GAAGF,YAAY,GAAGF,KAAK,EAAE;MACtCD,IAAI,CAACQ,KAAK,CAAC,IAAI,EAAEJ,IAAI,CAAC;MACtBD,YAAY,GAAGE,WAAW;IAC5B,CAAC,MAAM;MACLI,YAAY,CAACP,SAAS,CAAC;MACvBA,SAAS,GAAGQ,UAAU,CAAC,MAAM;QAC3BV,IAAI,CAACQ,KAAK,CAAC,IAAI,EAAEJ,IAAI,CAAC;QACtBD,YAAY,GAAGG,IAAI,CAACC,GAAG,CAAC,CAAC;MAC3B,CAAC,EAAEN,KAAK,IAAII,WAAW,GAAGF,YAAY,CAAC,CAAC;IAC1C;EACF,CAAC;AACH,CAAC;;AAED;AACA,OAAO,MAAMQ,QAAQ,GAAGA,CAACX,IAAI,EAAEC,KAAK,KAAK;EACvC,IAAIC,SAAS;EACb,OAAO,UAAU,GAAGE,IAAI,EAAE;IACxBK,YAAY,CAACP,SAAS,CAAC;IACvBA,SAAS,GAAGQ,UAAU,CAAC,MAAMV,IAAI,CAACQ,KAAK,CAAC,IAAI,EAAEJ,IAAI,CAAC,EAAEH,KAAK,CAAC;EAC7D,CAAC;AACH,CAAC;;AAED;AACA,OAAO,MAAMW,WAAW,GAAIZ,IAAI,IAAK;EACnC,IAAIa,KAAK,GAAG,IAAI;EAChB,OAAO,UAAU,GAAGT,IAAI,EAAE;IACxB,IAAIS,KAAK,KAAK,IAAI,EAAE;MAClBA,KAAK,GAAGC,qBAAqB,CAAC,MAAM;QAClCd,IAAI,CAACQ,KAAK,CAAC,IAAI,EAAEJ,IAAI,CAAC;QACtBS,KAAK,GAAG,IAAI;MACd,CAAC,CAAC;IACJ;EACF,CAAC;AACH,CAAC;;AAED;AACA,OAAO,MAAME,uBAAuB,GAAGA,CAAA,KAAM;EAC3C,MAAMC,UAAU,GAAGC,SAAS,CAACD,UAAU,IAAIC,SAAS,CAACC,aAAa,IAAID,SAAS,CAACE,gBAAgB;EAChG,MAAMC,iBAAiB,GAAG,CAACJ,UAAU,IAAIA,UAAU,CAACK,aAAa,KAAK,IAAI;EAC1E,MAAMC,eAAe,GAAGC,MAAM,CAACC,gBAAgB,IAAI,CAAC;EAEpD,OAAOJ,iBAAiB,IAAIE,eAAe,IAAI,CAACC,MAAM,CAACE,UAAU,CAAC,kCAAkC,CAAC,CAACC,OAAO;AAC/G,CAAC;;AAED;AACA,OAAO,MAAMC,uBAAuB,GAAGA,CAACC,QAAQ,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EACjE,MAAMC,cAAc,GAAG;IACrBC,SAAS,EAAE,GAAG;IACdC,UAAU,EAAE,WAAW;IACvB,GAAGH;EACL,CAAC;EAED,OAAO,IAAII,oBAAoB,CAC7BlC,QAAQ,CAAC6B,QAAQ,EAAE,GAAG,CAAC;EAAE;EACzBE,cACF,CAAC;AACH,CAAC;;AAED;AACA,OAAO,MAAMI,gBAAgB,GAAGA,CAACC,OAAO,EAAEC,cAAc,KAAK;EAC3D,IAAID,OAAO,EAAE;IACXA,OAAO,CAACE,SAAS,CAACC,MAAM,CAACF,cAAc,CAAC;IACxC;IACA;IACA,MAAMG,CAAC,GAAGJ,OAAO,CAACK,YAAY,CAAC,CAAC;EAClC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}